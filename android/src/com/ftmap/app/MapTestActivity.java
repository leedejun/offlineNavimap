package com.ftmap.app;

import android.graphics.Color;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.EditText;

import androidx.annotation.Nullable;
import androidx.appcompat.app.AppCompatActivity;

import com.ftmap.maps.BuildConfig;
import com.ftmap.maps.FMap;
import com.ftmap.maps.FTMap;
import com.ftmap.maps.R;

import org.json.JSONArray;
import org.json.JSONObject;

import java.util.ArrayList;
import java.util.List;

public class MapTestActivity extends AppCompatActivity implements View.OnClickListener {
    private static final String TAG = MapTestActivity.class.getSimpleName();

    private FMap.LineItem line = null;
    private FMap.PointItem point = null;
    private EditText etSearchPoi;

    public MapTestActivity() {

    }

    @Override
    protected void onCreate(@Nullable Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_ftmap);
        FMap.INSTANCE.init(this.getApplication(), this, R.id.map_view_container, BuildConfig.APPLICATION_ID);
        findViewById(R.id.btnSearchPoi).setOnClickListener(this);
        findViewById(R.id.btnLocate).setOnClickListener(this);
        findViewById(R.id.btnRoute).setOnClickListener(this);
        findViewById(R.id.btnZoomIn).setOnClickListener(this);
        findViewById(R.id.btnZoomOut).setOnClickListener(this);
        findViewById(R.id.btnStyleClear).setOnClickListener(this);
        findViewById(R.id.btnStyleDark).setOnClickListener(this);
        findViewById(R.id.btSetupWidget).setOnClickListener(this);
        etSearchPoi = (EditText) findViewById(R.id.etSearchPoi);
    }

    @Override
    public void onClick(View view) {
        switch (view.getId()) {
            case R.id.btnSearchPoi:
                String s = etSearchPoi.getText().toString();
                FMap.INSTANCE.search(s,/*1d,2d,3d,*/ (JSONArray results) -> {
                    String s1 = results.toString();
                    Log.d("Search", s1);
//          results.put("");
                });
//        this.line.destroy();
                break;
            case R.id.btSetupWidget:
                FMap.INSTANCE.OnMapClickListener((JSONObject results) -> {
                    String s1 = results.toString();
                    Log.d("OnMapClickListener", s1);
//                FMap.INSTANCE.PtoG(345,887,(JSONObject results) -> {
//                    String s1 = results.toString();
//                    Log.d("PtoG", s1);0
//          results.put("");
                });
//
                break;
            case R.id.btnLocate:
                //119.8681282,35.338494221984661
                //124.79901609409046，55.887908445347364
                //112.95700768349326,29.411557982948096
                FMap.INSTANCE.setViewCenter(112.95700768349326, 29.411557982948096, -1);
//        if( this.line != null ){
//          this.line.width(10.0 );
//          this.line.update();
//        }

//                if (this.point == null) {
//                    FMap.PointItem item = (FMap.PointItem) FMap.INSTANCE.createDrawItem(FMap.DrawItemType.POINT);
//                    item.pos(new FMap.Point(109.17786132812502, 19.318103027343753));
//                    item.color("#ff0000");
//                    item.radius(50);
//                    item.update();
//
//                    String pts = "[109.17786132812502,19.318103027343753,109.17786132812502,19.318103027343753,109.17786132812502,19.301623535156253,109.15588867187502,19.285144042968753,109.13940917968752,19.274157714843753,109.12842285156252,19.263171386718753,109.11743652343752,19.246691894531253,109.10645019531252,19.235705566406253,109.10095703125002,19.224719238281253,109.09546386718752,19.219226074218753,109.09546386718752,19.213732910156253,109.10095703125002,19.213732910156253,109.12292968750002,19.213732910156253,109.15588867187502,19.224719238281253,109.18884765625002,19.235705566406253,109.22180664062502,19.241198730468753,109.24927246093752,19.246691894531253,109.26575195312502,19.246691894531253,109.27124511718752,19.252185058593753,109.27673828125002,19.252185058593753,109.27673828125002,19.241198730468753,109.27673828125002,19.224719238281253,109.27673828125002,19.213732910156253,109.27124511718752,19.202746582031253,109.26575195312502,19.186267089843753,109.26025878906252,19.175280761718753,109.26025878906252,19.180773925781253,109.27124511718752,19.191760253906253,109.29321777343752,19.208239746093753,109.30969726562502,19.224719238281253,109.33166992187502,19.230212402343753,109.34265625000002,19.241198730468753,109.34814941406252,19.246691894531253,109.35364257812502,19.257678222656253,109.35913574218752,19.257678222656253,109.36462890625002,19.246691894531253,109.36462890625002,19.241198730468753,109.36462890625002,19.224719238281253,109.36462890625002,19.213732910156253,109.36462890625002,19.191760253906253,109.35364257812502,19.175280761718753,109.34814941406252,19.153308105468753,109.33716308593752,19.136828613281253,109.33166992187502,19.125842285156253,109.33166992187502,19.114855957031253,109.33166992187502,19.109362792968753,109.33166992187502,19.114855957031253,109.33166992187502,19.125842285156253,109.33166992187502,19.136828613281253,109.33716308593752,19.142321777343753,109.33716308593752,19.147814941406253,109.34265625000002,19.147814941406253,109.34814941406252,19.147814941406253,109.35364257812502,19.136828613281253,109.35913574218752,19.114855957031253,109.36462890625002,19.087390136718753,109.36462890625002,19.065417480468753,109.36462890625002,19.043444824218753,109.36462890625002,19.026965332031253,109.36462890625002,19.010485839843753,109.37012207031252,19.010485839843753,109.37561523437502,19.015979003906253,109.37561523437502,19.032458496093753,109.38660156250002,19.054431152343753,109.39758789062502,19.076403808593753,109.40857421875002,19.103869628906253,109.41956054687502,19.120349121093753,109.43604003906252,19.142321777343753,109.44153320312502,19.158801269531253,109.45251953125002,19.164294433593753,109.45801269531252,19.169787597656253,109.46350585937502,19.175280761718753,109.46350585937502,19.169787597656253,109.46899902343752,19.158801269531253,109.47449218750002,19.147814941406253,109.47449218750002,19.131335449218753,109.47449218750002,19.114855957031253,109.47449218750002,19.092883300781253,109.47449218750002,19.065417480468753,109.46899902343752,19.054431152343753,109.46899902343752,19.048937988281253,109.46899902343752,19.043444824218753,109.46899902343752,19.059924316406253,109.47449218750002,19.076403808593753,109.48547851562502,19.098376464843753,109.50195800781252,19.125842285156253,109.51843750000002,19.147814941406253,109.52393066406252,19.158801269531253,109.53491699218752,19.164294433593753,109.54041015625002,19.175280761718753,109.54590332031252,19.175280761718753,109.54590332031252,19.180773925781253,109.55688964843752,19.180773925781253,109.55688964843752,19.169787597656253,109.55688964843752,19.153308105468753,109.55688964843752,19.136828613281253,109.55688964843752,19.114855957031253,109.55688964843752,19.092883300781253,109.55688964843752,19.059924316406253,109.55688964843752,19.043444824218753,109.55139648437502,19.026965332031253,109.54590332031252,19.015979003906253,109.55139648437502,19.021472167968753,109.55688964843752,19.032458496093753,109.56787597656252,19.048937988281253,109.58435546875002,19.065417480468753,109.59534179687502,19.081896972656253,109.60632812500002,19.092883300781253,109.61731445312502,19.103869628906253,109.62830078125002,19.109362792968753,109.62830078125002,19.114855957031253,109.63379394531252,19.109362792968753,109.63928710937502,19.098376464843753,109.63928710937502,19.087390136718753,109.63928710937502,19.059924316406253,109.63928710937502,19.021472167968753,109.63379394531252,18.983020019531253,109.62280761718752,18.950061035156253,109.61731445312502,18.928088378906253,109.61731445312502,18.911608886718753,109.61182128906252,18.895129394531253,109.61182128906252,18.889636230468753,109.61182128906252,18.895129394531253,109.61731445312502,18.917102050781253,109.63379394531252,18.944567871093753,109.65576660156252,18.977526855468753,109.67773925781252,19.004992675781253,109.69971191406252,19.037951660156253,109.71619140625002,19.059924316406253,109.72168457031252,19.076403808593753,109.73267089843752,19.081896972656253,109.73267089843752,19.087390136718753,109.73816406250002,19.087390136718753,109.74365722656252,19.087390136718753,109.74365722656252,19.081896972656253,109.74365722656252,19.065417480468753,109.74365722656252,19.043444824218753,109.74365722656252,19.015979003906253,109.74365722656252,18.983020019531253,109.74365722656252,18.955554199218753,109.73816406250002,18.928088378906253,109.73267089843752,18.917102050781253,109.72717773437502,18.906115722656253,109.72717773437502,18.922595214843753,109.73267089843752,18.944567871093753,109.73816406250002,18.972033691406253,109.74365722656252,18.988513183593753,109.75464355468752,19.004992675781253,109.76562988281252,19.015979003906253,109.76562988281252,19.032458496093753,109.77112304687502,19.032458496093753,109.77112304687502,19.037951660156253,109.77112304687502,19.021472167968753,109.77112304687502,19.004992675781253,109.77112304687502,18.988513183593753,109.77112304687502,18.972033691406253,109.77112304687502,18.955554199218753,109.77112304687502,18.944567871093753,109.77112304687502,18.939074707031253,109.77112304687502,18.955554199218753,109.77661621093752,18.972033691406253,109.79309570312502,18.988513183593753,109.80408203125002,19.004992675781253,109.82056152343752,19.032458496093753,109.83154785156252,19.048937988281253,109.83704101562502,19.059924316406253,109.84253417968752,19.059924316406253,109.84253417968752,19.054431152343753,109.84253417968752,19.037951660156253,109.84253417968752,19.021472167968753,109.84253417968752,19.004992675781253,109.84253417968752,18.983020019531253,109.84802734375002,18.961047363281253,109.84802734375002,18.944567871093753,109.84802734375002,18.933581542968753,109.84802734375002,18.928088378906253,109.85352050781252,18.922595214843753,109.85352050781252,18.928088378906253,109.85901367187502,18.939074707031253,109.86450683593752,18.955554199218753,109.87549316406252,18.972033691406253,109.88098632812502,18.988513183593753,109.88647949218752,19.010485839843753,109.89197265625002,19.037951660156253,109.89746582031252,19.054431152343753,109.89746582031252,19.065417480468753,109.90295898437502,19.070910644531253,109.90845214843752,19.070910644531253,109.90845214843752,19.065417480468753,109.91394531250002,19.059924316406253,109.91943847656252,19.043444824218753,109.92493164062502,19.032458496093753,109.93591796875002,19.010485839843753,109.94141113281252,18.994006347656253,109.94690429687502,18.972033691406253,109.95239746093752,18.950061035156253,109.95789062500002,18.928088378906253,109.95789062500002,18.922595214843753,109.95789062500002,18.917102050781253,109.95789062500002,18.928088378906253,109.96338378906252,18.944567871093753,109.96887695312502,18.966540527343753,109.96887695312502,18.988513183593753,109.97437011718752,19.021472167968753,109.97986328125002,19.037951660156253,109.99084960937502,19.059924316406253,109.99634277343752,19.076403808593753,109.99634277343752,19.070910644531253,109.99634277343752,19.059924316406253,109.99634277343752,19.054431152343753,109.99634277343752,19.048937988281253,110.00183593750002,19.043444824218753]";
//                    try {
//                        JSONArray array = new JSONArray(pts);
//                        // 把线显示到屏幕中间
//                        FMap.INSTANCE.centerPoints(array);
//
//                    } catch (Exception e) {
//                    }
//                    this.point = item;
//                } else {
//                    this.point.pos(new FMap.Point(110.00183593750002, 19.043444824218753));
//                    this.point.update();
//                    String pts = "[109.17786132812502,19.318103027343753,109.17786132812502,19.318103027343753,109.17786132812502,19.301623535156253,109.15588867187502,19.285144042968753,109.13940917968752,19.274157714843753,109.12842285156252,19.263171386718753,109.11743652343752,19.246691894531253,109.10645019531252,19.235705566406253,109.10095703125002,19.224719238281253,109.09546386718752,19.219226074218753,109.09546386718752,19.213732910156253,109.10095703125002,19.213732910156253,109.12292968750002,19.213732910156253,109.15588867187502,19.224719238281253,109.18884765625002,19.235705566406253,109.22180664062502,19.241198730468753,109.24927246093752,19.246691894531253,109.26575195312502,19.246691894531253,109.27124511718752,19.252185058593753,109.27673828125002,19.252185058593753,109.27673828125002,19.241198730468753,109.27673828125002,19.224719238281253,109.27673828125002,19.213732910156253,109.27124511718752,19.202746582031253,109.26575195312502,19.186267089843753,109.26025878906252,19.175280761718753,109.26025878906252,19.180773925781253,109.27124511718752,19.191760253906253,109.29321777343752,19.208239746093753,109.30969726562502,19.224719238281253,109.33166992187502,19.230212402343753,109.34265625000002,19.241198730468753,109.34814941406252,19.246691894531253,109.35364257812502,19.257678222656253,109.35913574218752,19.257678222656253,109.36462890625002,19.246691894531253,109.36462890625002,19.241198730468753,109.36462890625002,19.224719238281253,109.36462890625002,19.213732910156253,109.36462890625002,19.191760253906253,109.35364257812502,19.175280761718753,109.34814941406252,19.153308105468753,109.33716308593752,19.136828613281253,109.33166992187502,19.125842285156253,109.33166992187502,19.114855957031253,109.33166992187502,19.109362792968753,109.33166992187502,19.114855957031253,109.33166992187502,19.125842285156253,109.33166992187502,19.136828613281253,109.33716308593752,19.142321777343753,109.33716308593752,19.147814941406253,109.34265625000002,19.147814941406253,109.34814941406252,19.147814941406253,109.35364257812502,19.136828613281253,109.35913574218752,19.114855957031253,109.36462890625002,19.087390136718753,109.36462890625002,19.065417480468753,109.36462890625002,19.043444824218753,109.36462890625002,19.026965332031253,109.36462890625002,19.010485839843753,109.37012207031252,19.010485839843753,109.37561523437502,19.015979003906253,109.37561523437502,19.032458496093753,109.38660156250002,19.054431152343753,109.39758789062502,19.076403808593753,109.40857421875002,19.103869628906253,109.41956054687502,19.120349121093753,109.43604003906252,19.142321777343753,109.44153320312502,19.158801269531253,109.45251953125002,19.164294433593753,109.45801269531252,19.169787597656253,109.46350585937502,19.175280761718753,109.46350585937502,19.169787597656253,109.46899902343752,19.158801269531253,109.47449218750002,19.147814941406253,109.47449218750002,19.131335449218753,109.47449218750002,19.114855957031253,109.47449218750002,19.092883300781253,109.47449218750002,19.065417480468753,109.46899902343752,19.054431152343753,109.46899902343752,19.048937988281253,109.46899902343752,19.043444824218753,109.46899902343752,19.059924316406253,109.47449218750002,19.076403808593753,109.48547851562502,19.098376464843753,109.50195800781252,19.125842285156253,109.51843750000002,19.147814941406253,109.52393066406252,19.158801269531253,109.53491699218752,19.164294433593753,109.54041015625002,19.175280761718753,109.54590332031252,19.175280761718753,109.54590332031252,19.180773925781253,109.55688964843752,19.180773925781253,109.55688964843752,19.169787597656253,109.55688964843752,19.153308105468753,109.55688964843752,19.136828613281253,109.55688964843752,19.114855957031253,109.55688964843752,19.092883300781253,109.55688964843752,19.059924316406253,109.55688964843752,19.043444824218753,109.55139648437502,19.026965332031253,109.54590332031252,19.015979003906253,109.55139648437502,19.021472167968753,109.55688964843752,19.032458496093753,109.56787597656252,19.048937988281253,109.58435546875002,19.065417480468753,109.59534179687502,19.081896972656253,109.60632812500002,19.092883300781253,109.61731445312502,19.103869628906253,109.62830078125002,19.109362792968753,109.62830078125002,19.114855957031253,109.63379394531252,19.109362792968753,109.63928710937502,19.098376464843753,109.63928710937502,19.087390136718753,109.63928710937502,19.059924316406253,109.63928710937502,19.021472167968753,109.63379394531252,18.983020019531253,109.62280761718752,18.950061035156253,109.61731445312502,18.928088378906253,109.61731445312502,18.911608886718753,109.61182128906252,18.895129394531253,109.61182128906252,18.889636230468753,109.61182128906252,18.895129394531253,109.61731445312502,18.917102050781253,109.63379394531252,18.944567871093753,109.65576660156252,18.977526855468753,109.67773925781252,19.004992675781253,109.69971191406252,19.037951660156253,109.71619140625002,19.059924316406253,109.72168457031252,19.076403808593753,109.73267089843752,19.081896972656253,109.73267089843752,19.087390136718753,109.73816406250002,19.087390136718753,109.74365722656252,19.087390136718753,109.74365722656252,19.081896972656253,109.74365722656252,19.065417480468753,109.74365722656252,19.043444824218753,109.74365722656252,19.015979003906253,109.74365722656252,18.983020019531253,109.74365722656252,18.955554199218753,109.73816406250002,18.928088378906253,109.73267089843752,18.917102050781253,109.72717773437502,18.906115722656253,109.72717773437502,18.922595214843753,109.73267089843752,18.944567871093753,109.73816406250002,18.972033691406253,109.74365722656252,18.988513183593753,109.75464355468752,19.004992675781253,109.76562988281252,19.015979003906253,109.76562988281252,19.032458496093753,109.77112304687502,19.032458496093753,109.77112304687502,19.037951660156253,109.77112304687502,19.021472167968753,109.77112304687502,19.004992675781253,109.77112304687502,18.988513183593753,109.77112304687502,18.972033691406253,109.77112304687502,18.955554199218753,109.77112304687502,18.944567871093753,109.77112304687502,18.939074707031253,109.77112304687502,18.955554199218753,109.77661621093752,18.972033691406253,109.79309570312502,18.988513183593753,109.80408203125002,19.004992675781253,109.82056152343752,19.032458496093753,109.83154785156252,19.048937988281253,109.83704101562502,19.059924316406253,109.84253417968752,19.059924316406253,109.84253417968752,19.054431152343753,109.84253417968752,19.037951660156253,109.84253417968752,19.021472167968753,109.84253417968752,19.004992675781253,109.84253417968752,18.983020019531253,109.84802734375002,18.961047363281253,109.84802734375002,18.944567871093753,109.84802734375002,18.933581542968753,109.84802734375002,18.928088378906253,109.85352050781252,18.922595214843753,109.85352050781252,18.928088378906253,109.85901367187502,18.939074707031253,109.86450683593752,18.955554199218753,109.87549316406252,18.972033691406253,109.88098632812502,18.988513183593753,109.88647949218752,19.010485839843753,109.89197265625002,19.037951660156253,109.89746582031252,19.054431152343753,109.89746582031252,19.065417480468753,109.90295898437502,19.070910644531253,109.90845214843752,19.070910644531253,109.90845214843752,19.065417480468753,109.91394531250002,19.059924316406253,109.91943847656252,19.043444824218753,109.92493164062502,19.032458496093753,109.93591796875002,19.010485839843753,109.94141113281252,18.994006347656253,109.94690429687502,18.972033691406253,109.95239746093752,18.950061035156253,109.95789062500002,18.928088378906253,109.95789062500002,18.922595214843753,109.95789062500002,18.917102050781253,109.95789062500002,18.928088378906253,109.96338378906252,18.944567871093753,109.96887695312502,18.966540527343753,109.96887695312502,18.988513183593753,109.97437011718752,19.021472167968753,109.97986328125002,19.037951660156253,109.99084960937502,19.059924316406253,109.99634277343752,19.076403808593753,109.99634277343752,19.070910644531253,109.99634277343752,19.059924316406253,109.99634277343752,19.054431152343753,109.99634277343752,19.048937988281253,110.00183593750002,19.043444824218753]";
//                    try {
//                        JSONArray array = new JSONArray(pts);
//                        // 把线显示到屏幕中间
//                        FMap.INSTANCE.centerPoints(array);
//
//                    } catch (Exception e) {
//                    }
//                }

//        if( this.line == null ){
//          this.line = (FMap.LineItem)FMap.INSTANCE.createDrawItem(FMap.DrawItemType.LINE);
//        }
//        String pts = "[109.17786132812502,19.318103027343753,109.17786132812502,19.318103027343753,109.17786132812502,19.301623535156253,109.15588867187502,19.285144042968753,109.13940917968752,19.274157714843753,109.12842285156252,19.263171386718753,109.11743652343752,19.246691894531253,109.10645019531252,19.235705566406253,109.10095703125002,19.224719238281253,109.09546386718752,19.219226074218753,109.09546386718752,19.213732910156253,109.10095703125002,19.213732910156253,109.12292968750002,19.213732910156253,109.15588867187502,19.224719238281253,109.18884765625002,19.235705566406253,109.22180664062502,19.241198730468753,109.24927246093752,19.246691894531253,109.26575195312502,19.246691894531253,109.27124511718752,19.252185058593753,109.27673828125002,19.252185058593753,109.27673828125002,19.241198730468753,109.27673828125002,19.224719238281253,109.27673828125002,19.213732910156253,109.27124511718752,19.202746582031253,109.26575195312502,19.186267089843753,109.26025878906252,19.175280761718753,109.26025878906252,19.180773925781253,109.27124511718752,19.191760253906253,109.29321777343752,19.208239746093753,109.30969726562502,19.224719238281253,109.33166992187502,19.230212402343753,109.34265625000002,19.241198730468753,109.34814941406252,19.246691894531253,109.35364257812502,19.257678222656253,109.35913574218752,19.257678222656253,109.36462890625002,19.246691894531253,109.36462890625002,19.241198730468753,109.36462890625002,19.224719238281253,109.36462890625002,19.213732910156253,109.36462890625002,19.191760253906253,109.35364257812502,19.175280761718753,109.34814941406252,19.153308105468753,109.33716308593752,19.136828613281253,109.33166992187502,19.125842285156253,109.33166992187502,19.114855957031253,109.33166992187502,19.109362792968753,109.33166992187502,19.114855957031253,109.33166992187502,19.125842285156253,109.33166992187502,19.136828613281253,109.33716308593752,19.142321777343753,109.33716308593752,19.147814941406253,109.34265625000002,19.147814941406253,109.34814941406252,19.147814941406253,109.35364257812502,19.136828613281253,109.35913574218752,19.114855957031253,109.36462890625002,19.087390136718753,109.36462890625002,19.065417480468753,109.36462890625002,19.043444824218753,109.36462890625002,19.026965332031253,109.36462890625002,19.010485839843753,109.37012207031252,19.010485839843753,109.37561523437502,19.015979003906253,109.37561523437502,19.032458496093753,109.38660156250002,19.054431152343753,109.39758789062502,19.076403808593753,109.40857421875002,19.103869628906253,109.41956054687502,19.120349121093753,109.43604003906252,19.142321777343753,109.44153320312502,19.158801269531253,109.45251953125002,19.164294433593753,109.45801269531252,19.169787597656253,109.46350585937502,19.175280761718753,109.46350585937502,19.169787597656253,109.46899902343752,19.158801269531253,109.47449218750002,19.147814941406253,109.47449218750002,19.131335449218753,109.47449218750002,19.114855957031253,109.47449218750002,19.092883300781253,109.47449218750002,19.065417480468753,109.46899902343752,19.054431152343753,109.46899902343752,19.048937988281253,109.46899902343752,19.043444824218753,109.46899902343752,19.059924316406253,109.47449218750002,19.076403808593753,109.48547851562502,19.098376464843753,109.50195800781252,19.125842285156253,109.51843750000002,19.147814941406253,109.52393066406252,19.158801269531253,109.53491699218752,19.164294433593753,109.54041015625002,19.175280761718753,109.54590332031252,19.175280761718753,109.54590332031252,19.180773925781253,109.55688964843752,19.180773925781253,109.55688964843752,19.169787597656253,109.55688964843752,19.153308105468753,109.55688964843752,19.136828613281253,109.55688964843752,19.114855957031253,109.55688964843752,19.092883300781253,109.55688964843752,19.059924316406253,109.55688964843752,19.043444824218753,109.55139648437502,19.026965332031253,109.54590332031252,19.015979003906253,109.55139648437502,19.021472167968753,109.55688964843752,19.032458496093753,109.56787597656252,19.048937988281253,109.58435546875002,19.065417480468753,109.59534179687502,19.081896972656253,109.60632812500002,19.092883300781253,109.61731445312502,19.103869628906253,109.62830078125002,19.109362792968753,109.62830078125002,19.114855957031253,109.63379394531252,19.109362792968753,109.63928710937502,19.098376464843753,109.63928710937502,19.087390136718753,109.63928710937502,19.059924316406253,109.63928710937502,19.021472167968753,109.63379394531252,18.983020019531253,109.62280761718752,18.950061035156253,109.61731445312502,18.928088378906253,109.61731445312502,18.911608886718753,109.61182128906252,18.895129394531253,109.61182128906252,18.889636230468753,109.61182128906252,18.895129394531253,109.61731445312502,18.917102050781253,109.63379394531252,18.944567871093753,109.65576660156252,18.977526855468753,109.67773925781252,19.004992675781253,109.69971191406252,19.037951660156253,109.71619140625002,19.059924316406253,109.72168457031252,19.076403808593753,109.73267089843752,19.081896972656253,109.73267089843752,19.087390136718753,109.73816406250002,19.087390136718753,109.74365722656252,19.087390136718753,109.74365722656252,19.081896972656253,109.74365722656252,19.065417480468753,109.74365722656252,19.043444824218753,109.74365722656252,19.015979003906253,109.74365722656252,18.983020019531253,109.74365722656252,18.955554199218753,109.73816406250002,18.928088378906253,109.73267089843752,18.917102050781253,109.72717773437502,18.906115722656253,109.72717773437502,18.922595214843753,109.73267089843752,18.944567871093753,109.73816406250002,18.972033691406253,109.74365722656252,18.988513183593753,109.75464355468752,19.004992675781253,109.76562988281252,19.015979003906253,109.76562988281252,19.032458496093753,109.77112304687502,19.032458496093753,109.77112304687502,19.037951660156253,109.77112304687502,19.021472167968753,109.77112304687502,19.004992675781253,109.77112304687502,18.988513183593753,109.77112304687502,18.972033691406253,109.77112304687502,18.955554199218753,109.77112304687502,18.944567871093753,109.77112304687502,18.939074707031253,109.77112304687502,18.955554199218753,109.77661621093752,18.972033691406253,109.79309570312502,18.988513183593753,109.80408203125002,19.004992675781253,109.82056152343752,19.032458496093753,109.83154785156252,19.048937988281253,109.83704101562502,19.059924316406253,109.84253417968752,19.059924316406253,109.84253417968752,19.054431152343753,109.84253417968752,19.037951660156253,109.84253417968752,19.021472167968753,109.84253417968752,19.004992675781253,109.84253417968752,18.983020019531253,109.84802734375002,18.961047363281253,109.84802734375002,18.944567871093753,109.84802734375002,18.933581542968753,109.84802734375002,18.928088378906253,109.85352050781252,18.922595214843753,109.85352050781252,18.928088378906253,109.85901367187502,18.939074707031253,109.86450683593752,18.955554199218753,109.87549316406252,18.972033691406253,109.88098632812502,18.988513183593753,109.88647949218752,19.010485839843753,109.89197265625002,19.037951660156253,109.89746582031252,19.054431152343753,109.89746582031252,19.065417480468753,109.90295898437502,19.070910644531253,109.90845214843752,19.070910644531253,109.90845214843752,19.065417480468753,109.91394531250002,19.059924316406253,109.91943847656252,19.043444824218753,109.92493164062502,19.032458496093753,109.93591796875002,19.010485839843753,109.94141113281252,18.994006347656253,109.94690429687502,18.972033691406253,109.95239746093752,18.950061035156253,109.95789062500002,18.928088378906253,109.95789062500002,18.922595214843753,109.95789062500002,18.917102050781253,109.95789062500002,18.928088378906253,109.96338378906252,18.944567871093753,109.96887695312502,18.966540527343753,109.96887695312502,18.988513183593753,109.97437011718752,19.021472167968753,109.97986328125002,19.037951660156253,109.99084960937502,19.059924316406253,109.99634277343752,19.076403808593753,109.99634277343752,19.070910644531253,109.99634277343752,19.059924316406253,109.99634277343752,19.054431152343753,109.99634277343752,19.048937988281253,110.00183593750002,19.043444824218753]";
//        try{
//          JSONArray array = new JSONArray(pts);
//          line.points(array);
//          line.width(20);
//          line.color("#00ff0033");
//          line.id("testRoute");
//          line.update();
//          // 把线显示到屏幕中间
//          FMap.INSTANCE.centerPoints(array);
//
//        }
//        catch(Exception e){
//
//        }

                break;
            case R.id.btnRoute:
                JSONArray points = new JSONArray();
                try {
                    JSONObject /*p = new JSONObject();
                    //首都机场
                    p.put("x", 116.56242502154726);
                    p.put("y", 43.776420830014473);
                    points.put(p);*/

                    p = new JSONObject();
//                    116.39126521640469  43.59062286906408 天安门
                    p.put("x", 116.39126521640469);
                    p.put("y", 43.59062286906408);
                    points.put(p);

                    //116.30959463350172, 43.69950312152136
                    p = new JSONObject();
//                    p.put("x", 116.30959463350172);
//                    p.put("y", 43.69950312152136);   公司
                    p.put("x", 116.358755);
                    p.put("y", 43.763775300574764);
                    points.put(p);


                    p = new JSONObject();
                    //小牛坊
                    p.put("x", 116.24619745657633);
                    p.put("y", 43.80949037045025);
                    //天津植物园
//                    p.put("x", 117.08956358648513);
//                    p.put("y", 42.53685670000952);
                    //北京大学
//                    p.put("x", 116.30959463350172);
//                    p.put("y", 43.69950312152136);
                    points.put(p);


                } catch (Exception e) {
                    return;
                }
                FMap.INSTANCE.routing(points, "car", (JSONObject result) -> {
                    // 把路线画出来
                    try {
                        JSONArray routePoints = result.getJSONArray("result");
                        this.line = (FMap.LineItem) FMap.INSTANCE.createDrawItem(FMap.DrawItemType.LINE);
                        line.points(routePoints);
                        line.width(20);
                        line.color("#ff0000");
                        line.id("testRoute");
                        line.update();
                        // 把线显示到屏幕中间
                        FMap.INSTANCE.centerPoints(routePoints);
                    } catch (Exception e) {

                    }
                });
                break;
            case R.id.btnZoomIn:
                FMap.INSTANCE.zoom(true);
                break;
            case R.id.btnZoomOut:
                FMap.INSTANCE.zoom(false);
                break;
            case R.id.btnStyleClear:
                FMap.INSTANCE.setMapStyle("clear");
                break;
            case R.id.btnStyleDark:
                FMap.INSTANCE.setMapStyle("dark");
                break;
            default:
                break;
        }
    }

}
